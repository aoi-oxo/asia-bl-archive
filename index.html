<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asia BL Archive - „É©„É≥„Ç≠„É≥„Ç∞&‰ø≥ÂÑ™Ê§úÁ¥¢ÂØæÂøúÁâà</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', sans-serif;
            background: #f5f5f5;
            color: #2c2c2c;
            line-height: 1.6;
            padding-bottom: 320px;
        }

        header {
            background: white;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 400;
            color: #2c2c2c;
            font-family: 'Georgia', 'Yu Mincho', 'Hiragino Mincho ProN', serif;
            letter-spacing: 1px;
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-family: 'Georgia', 'Yu Mincho', 'Hiragino Mincho ProN', serif;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .hero p {
            font-size: 1rem;
            opacity: 0.9;
            font-family: 'Georgia', 'Yu Mincho', 'Hiragino Mincho ProN', serif;
            font-weight: 300;
        }

        .news-banner {
            background: white;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .news-banner-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .news-banner-header h3 {
            font-size: 1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .more-link {
            color: #667eea;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .news-banner-list {
            display: flex;
            gap: 2rem;
            overflow-x: auto;
        }

        .news-banner-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 300px;
            text-decoration: none;
            color: inherit;
        }

        .news-badge {
            background: #ff4757;
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .news-date {
            color: #999;
            font-size: 0.85rem;
        }

        .news-title {
            flex: 1;
            font-size: 0.9rem;
        }

        .ranking-section {
            padding: 1.5rem 2rem;
            background: white;
            border-bottom: 1px solid #e0e0e0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .ranking-header {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .ranking-scroll {
            display: flex;
            gap: 1.5rem;
            overflow-x: auto;
            padding-bottom: 1rem;
        }

        .ranking-card {
            min-width: 200px;
            flex-shrink: 0;
            position: relative;
        }

        .ranking-number {
            position: absolute;
            top: -0.5rem;
            left: -0.5rem;
            background: #667eea;
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            z-index: 1;
        }

        .ranking-thumbnail {
            background: #667eea;
            color: white;
            height: 280px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .ranking-title {
            font-weight: 500;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .ranking-meta {
            font-size: 0.8rem;
            color: #666;
        }

        .country-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            padding: 1.5rem 2rem;
            background: white;
            flex-wrap: wrap;
        }

        .country-tab {
            padding: 0.5rem 1.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;
        }

        .country-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .country-tab:hover:not(.active) {
            border-color: #667eea;
        }

        .controls {
            padding: 1.5rem 2rem;
            background: white;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-group label {
            font-weight: 500;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .search-box {
            position: relative;
            flex: 1;
            min-width: 250px;
            max-width: 400px;
        }

        .search-icon {
            position: absolute;
            left: 0.6rem;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .search-box input {
            width: 100%;
            padding: 0.6rem 1rem 0.6rem 2.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
        }

        .works-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .results-info {
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .works-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .work-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .work-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .work-thumbnail {
            background: #667eea;
            color: white;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            position: relative;
        }

        .work-info {
            padding: 1rem;
        }

        .work-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .work-meta {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 0.3rem;
        }

        .work-platform {
            display: inline-block;
            background: #f0f0f0;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-top: 0.5rem;
        }

        select {
            padding: 0.5rem 2rem 0.5rem 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            font-size: 0.9rem;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.8rem center;
        }

        .site-footer {
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
            padding: 2rem;
            margin-top: 4rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: #666;
            text-decoration: none;
            font-size: 0.85rem;
        }

        .footer-links a:hover {
            color: #667eea;
        }

        .footer-copyright {
            text-align: center;
            color: #999;
            font-size: 0.85rem;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .works-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Asia BL Archive</div>
    </header>

    <section class="hero">
        <h1>„Ç¢„Ç∏„Ç¢BL„ÄÅÂõΩ„ÇíÈÅ∏„Çì„ÅßÊ∑±Êéò„Çä„Åô„Çã</h1>
        <p>„Çø„Ç§„ÉªÂè∞Êπæ„ÉªÈüìÂõΩ„Éª‰∏≠ÂõΩ„ÉªÊó•Êú¨„ÅÆÂÆüÂÜôBL„ÇíÁ∂≤ÁæÖ</p>
    </section>

    <div class="news-banner">
        <div class="news-banner-header">
            <h3>üì¢ ÊúÄÊñ∞„ÅÆ„ÅäÁü•„Çâ„Åõ</h3>
            <a href="news-page.html" class="more-link">„ÇÇ„Å£„Å®Ë¶ã„Çã ‚Üí</a>
        </div>
        <div class="news-banner-list">
            <a href="news-page.html" class="news-banner-item">
                <span class="news-badge">NEW</span>
                <span class="news-date">2026.02.11</span>
                <span class="news-title">„Çµ„Ç§„Éà„Çí„É™„Éã„É•„Éº„Ç¢„É´„Åó„Åæ„Åó„Åü</span>
            </a>
            <a href="news-page.html" class="news-banner-item">
                <span class="news-date">2026.02.10</span>
                <span class="news-title">‰ø≥ÂÑ™Ë©≥Á¥∞„Éö„Éº„Ç∏„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü</span>
            </a>
            <a href="news-page.html" class="news-banner-item">
                <span class="news-date">2026.02.05</span>
                <span class="news-title">2ÊúàÈÖç‰ø°‰∫àÂÆö„ÅÆÊñ∞‰ΩúBL„Éâ„É©„ÉûÊÉÖÂ†±„ÇíËøΩÂä†</span>
            </a>
        </div>
    </div>

    <div style="padding: 1.5rem 2rem; background: white; border-bottom: 1px solid #e0e0e0; max-width: 1200px; margin: 0 auto;">
        <div class="ranking-section" style="margin: 0; padding: 0; border: none; background: transparent;">
            <div class="ranking-header">
                üìä ‰ªäÈÄ±„ÅÆ‰∫∫Ê∞ó‰ΩúÂìÅ TOP10
            </div>
            <div class="ranking-scroll" id="rankingScroll"></div>
        </div>
    </div>

    <div class="country-tabs">
        <button class="country-tab active" data-country="all">„Åô„Åπ„Å¶</button>
        <button class="country-tab" data-country="japan">Êó•Êú¨ JP</button>
        <button class="country-tab" data-country="thailand">„Çø„Ç§ TH</button>
        <button class="country-tab" data-country="taiwan">Âè∞Êπæ TW</button>
        <button class="country-tab" data-country="korea">ÈüìÂõΩ KR</button>
        <button class="country-tab" data-country="china">‰∏≠ÂõΩ CN</button>
    </div>

    <div class="controls">
        <div class="control-group">
            <label>ÈÖç‰ø°Âπ¥:</label>
            <select id="yearFilter">
                <option value="all">„Åô„Åπ„Å¶</option>
                <option value="2023">2023Âπ¥</option>
            </select>
        </div>

        <div class="control-group">
            <label>„ÇΩ„Éº„Éà:</label>
            <select id="sortSelect">
                <option value="title">„Çø„Ç§„Éà„É´È†Ü</option>
                <option value="country">ÂõΩÂà•</option>
            </select>
        </div>

        <div class="control-group">
            <label>ÈÖç‰ø°„Çµ„Ç§„Éà:</label>
            <select id="platformFilter">
                <option value="all">„Åô„Åπ„Å¶</option>
                <option value="netflix">Netflix</option>
                <option value="gaga">GagaOOLala</option>
                <option value="iqiyi">iQIYI</option>
            </select>
        </div>

        <div class="search-box">
            <span class="search-icon">üîç</span>
            <input type="text" id="searchInput" placeholder="‰ΩúÂìÅÂêç„Éª‰ø≥ÂÑ™Âêç„ÅßÊ§úÁ¥¢...">
        </div>
    </div>

    <section class="works-section">
        <div class="results-info" id="resultsInfo"></div>
        <div class="works-grid" id="worksGrid"></div>
    </section>

    <footer class="site-footer">
        <div class="footer-links">
            <a href="news-page.html">„ÅäÁü•„Çâ„Åõ</a>
            <a href="privacy-policy.html">„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº</a>
            <a href="contact-page.html">„ÅäÂïè„ÅÑÂêà„Çè„Åõ</a>
        </div>
        <div class="footer-copyright">
            ¬© 2026 Asia BL Archive
        </div>
    </footer>

    <script src="data/works.js"></script>
    
    <script>
        let works = [];
        let currentCountry = 'all';
        let currentPlatform = 'all';
        let currentSearchQuery = '';

        document.addEventListener('DOMContentLoaded', function() {
            if (typeof allWorks !== 'undefined') {
                works = allWorks.map(work => ({
                    id: work.id || Math.random(),
                    title: work.Title_JP || work.Title_EN || 'ÁÑ°È°å',
                    country: mapCountry(work.Country),
                    platform: mapPlatform(work.Platform),
                    year: work.Year || '2023',
                    thumbnail: '‰ΩúÂìÅÁîªÂÉè',
                    actors: [work.Cast1, work.Cast2].filter(Boolean),
                    viewCount: Math.floor(Math.random() * 5000) + 500,
                    platformName: work.Platform || '„Åù„ÅÆ‰ªñ'
                }));
                
                console.log(`${works.length}‰ª∂„ÅÆ‰ΩúÂìÅ„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü`);
                renderRanking();
                renderWorks();
            }
        });

        function mapCountry(country) {
            const mapping = {
                'Korea': 'korea',
                'Thailand': 'thailand',
                'Taiwan': 'taiwan',
                'China': 'china',
                'Japan': 'japan'
            };
            return mapping[country] || (country || '').toLowerCase();
        }

        function mapPlatform(platform) {
            if (!platform) return 'other';
            const platformMap = {
                'Netflix': 'netflix',
                'iQIYI': 'iqiyi',
                'Viki': 'viki',
                'GMMTV': 'gmmtv',
                'GagaOOLala': 'gaga',
                'U-NEXT': 'unext'
            };
            const first = platform.split('/')[0].trim();
            return platformMap[first] || 'other';
        }

        function renderRanking() {
            const list = document.getElementById('rankingScroll');
            const sortedWorks = works.slice().sort((a, b) => (b.viewCount || 0) - (a.viewCount || 0)).slice(0, 10);
            
            list.innerHTML = sortedWorks.map((work, index) => `
                <div class="ranking-card">
                    <div class="ranking-number">${index + 1}</div>
                    <div class="ranking-thumbnail">${work.thumbnail}</div>
                    <div class="ranking-title">${work.title}</div>
                    <div class="ranking-meta">${work.year}Âπ¥ | ${work.viewCount} views</div>
                </div>
            `).join('');
        }

        function renderWorks() {
            const filtered = works.filter(work => {
                if (currentCountry !== 'all' && work.country !== currentCountry) return false;
                if (currentPlatform !== 'all' && work.platform !== currentPlatform) return false;
                if (currentSearchQuery) {
                    const query = currentSearchQuery.toLowerCase();
                    const titleMatch = work.title.toLowerCase().includes(query);
                    const actorMatch = work.actors.some(a => a && a.toLowerCase().includes(query));
                    if (!titleMatch && !actorMatch) return false;
                }
                return true;
            });

            document.getElementById('resultsInfo').textContent = `${filtered.length}‰ª∂„ÅÆ‰ΩúÂìÅ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü`;
            
            const grid = document.getElementById('worksGrid');
            grid.innerHTML = filtered.map(work => `
                <div class="work-card">
                    <div class="work-thumbnail">${work.thumbnail}</div>
                    <div class="work-info">
                        <div class="work-title">${work.title}</div>
                        <div class="work-meta">${work.year}Âπ¥</div>
                        <div class="work-meta">Âá∫Êºî: ${work.actors.join(', ') || 'ÊÉÖÂ†±„Å™„Åó'}</div>
                        <div class="work-platform">${work.platformName}</div>
                    </div>
                </div>
            `).join('');
        }

        document.querySelectorAll('.country-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.country-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentCountry = tab.dataset.country;
                renderWorks();
            });
        });

        document.getElementById('searchInput').addEventListener('input', (e) => {
            currentSearchQuery = e.target.value;
            renderWorks();
        });

        document.getElementById('platformFilter').addEventListener('change', (e) => {
            currentPlatform = e.target.value;
            renderWorks();
        });
    </script>
</body>
</html>
