<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asia BL Archive - ãƒ©ãƒ³ã‚­ãƒ³ã‚°&ä¿³å„ªæ¤œç´¢å¯¾å¿œç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', sans-serif;
            background: #f5f5f5;
            color: #2c2c2c;
            line-height: 1.6;
            padding-bottom: 320px;
        }

        header {
            background: white;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 400;
            color: #2c2c2c;
            font-family: 'Georgia', 'Yu Mincho', 'Hiragino Mincho ProN', serif;
            letter-spacing: 1px;
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-family: 'Georgia', 'Yu Mincho', 'Hiragino Mincho ProN', serif;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .hero p {
            font-size: 1rem;
            opacity: 0.9;
            font-family: 'Georgia', 'Yu Mincho', 'Hiragino Mincho ProN', serif;
            font-weight: 300;
        }

        .news-banner {
            background: white;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .news-banner-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .news-banner-header h3 {
            font-size: 1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .news-banner-list {
            display: flex;
            gap: 2rem;
            overflow-x: auto;
        }

        .news-banner-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 300px;
            text-decoration: none;
            color: inherit;
        }

        .news-badge {
            background: #ff4757;
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .news-date {
            color: #999;
            font-size: 0.85rem;
        }

        .news-title {
            flex: 1;
            font-size: 0.9rem;
        }

        .ranking-section {
            padding: 1.5rem 2rem;
            background: white;
            border-bottom: 1px solid #e0e0e0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .ranking-header {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .ranking-scroll {
            display: flex;
            gap: 1.5rem;
            overflow-x: auto;
            padding-bottom: 1rem;
        }

        .ranking-card {
            min-width: 200px;
            flex-shrink: 0;
            position: relative;
        }

        .ranking-number {
            position: absolute;
            top: -0.5rem;
            left: -0.5rem;
            background: #667eea;
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            z-index: 1;
        }

        .ranking-thumbnail {
            background: #667eea;
            color: white;
            height: 280px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .ranking-title {
            font-weight: 500;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .ranking-meta {
            font-size: 0.8rem;
            color: #666;
        }

        .country-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            padding: 1.5rem 2rem;
            background: white;
            flex-wrap: wrap;
        }

        .country-tab {
            padding: 0.5rem 1.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;
        }

        .country-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .country-tab:hover:not(.active) {
            border-color: #667eea;
        }

        .controls {
            padding: 1.5rem 2rem;
            background: white;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-group label {
            font-weight: 500;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .search-box {
            position: relative;
            flex: 1;
            min-width: 250px;
            max-width: 400px;
        }

        .search-icon {
            position: absolute;
            left: 0.6rem;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .search-box input {
            width: 100%;
            padding: 0.6rem 1rem 0.6rem 2.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
        }

        .works-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .results-info {
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .works-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .work-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .work-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .work-thumbnail {
            background: #667eea;
            color: white;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            position: relative;
        }

        .work-info {
            padding: 1rem;
        }

        .work-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .work-meta {
            color: #666;
            font-size: 0.85rem;
            margin-bottom: 0.3rem;
        }

        .work-platform {
            display: inline-block;
            background: #f0f0f0;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-top: 0.5rem;
        }

        select {
            padding: 0.5rem 2rem 0.5rem 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            font-size: 0.9rem;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.8rem center;
        }

        .calendar-section {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .calendar-header {
            background: white;
            padding: 1.5rem;
            border-radius: 8px 8px 0 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .calendar-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .selected-count {
            color: #667eea;
            font-size: 0.9rem;
        }

        .clear-btn {
            background: #f0f0f0;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            margin-top: 1rem;
        }

        .calendar-list {
            background: white;
            padding: 1.5rem;
            border-radius: 0 0 8px 8px;
            max-height: 600px;
            overflow-y: auto;
        }

        .calendar-item {
            padding: 1rem;
            border-left: 3px solid #667eea;
            margin-bottom: 1rem;
            background: #f9f9f9;
            border-radius: 4px;
        }

        .calendar-date {
            color: #667eea;
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 0.3rem;
        }

        .calendar-work-title {
            font-weight: 500;
            margin-bottom: 0.3rem;
        }

        .calendar-platform {
            color: #666;
            font-size: 0.85rem;
        }

        .empty-calendar {
            text-align: center;
            padding: 3rem;
            color: #999;
        }

        .site-footer {
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
            padding: 2rem;
            margin-top: 4rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: #666;
            text-decoration: none;
            font-size: 0.85rem;
        }

        .footer-links a:hover {
            color: #667eea;
        }

        .footer-copyright {
            text-align: center;
            color: #999;
            font-size: 0.85rem;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .works-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Asia BL Archive</div>
    </header>

    <section class="hero">
        <h1>ã‚¢ã‚¸ã‚¢BLã€å›½ã‚’é¸ã‚“ã§æ·±æ˜ã‚Šã™ã‚‹</h1>
        <p>ã‚¿ã‚¤ãƒ»å°æ¹¾ãƒ»éŸ“å›½ãƒ»ä¸­å›½ãƒ»æ—¥æœ¬ã®å®Ÿå†™BLã‚’ç¶²ç¾…</p>
    </section>

    <!-- ãŠçŸ¥ã‚‰ã›ãƒãƒŠãƒ¼ -->
    <div class="news-banner">
        <div class="news-banner-header">
            <h3>ğŸ“¢ æœ€æ–°ã®ãŠçŸ¥ã‚‰ã›</h3>
            <a href="news-page.html" class="more-link">ã‚‚ã£ã¨è¦‹ã‚‹ â†’</a>
        </div>
        <div class="news-banner-list" id="newsBannerList">
            <a href="news-page.html" class="news-banner-item">
                <span class="news-badge">NEW</span>
                <span class="news-date">2026.02.11</span>
                <span class="news-title">ã‚µã‚¤ãƒˆã‚’ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã—ã¾ã—ãŸ</span>
            </a>
            <a href="news-page.html" class="news-banner-item">
                <span class="news-date">2026.02.10</span>
                <span class="news-title">ä¿³å„ªè©³ç´°ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¾ã—ãŸ</span>
            </a>
            <a href="news-page.html" class="news-banner-item">
                <span class="news-date">2026.02.05</span>
                <span class="news-title">2æœˆé…ä¿¡äºˆå®šã®æ–°ä½œBLãƒ‰ãƒ©ãƒæƒ…å ±ã‚’è¿½åŠ </span>
            </a>
        </div>
    </div>

    <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå›½åˆ¥ã‚¿ãƒ–ã®ä¸Šï¼‰ -->
    <div style="padding: 1.5rem 2rem; background: white; border-bottom: 1px solid #e0e0e0; max-width: 1200px; margin: 0 auto;">
        <div class="ranking-section" style="margin: 0; padding: 0; border: none; background: transparent;">
            <div class="ranking-header">
                ğŸ“Š ä»Šé€±ã®äººæ°—ä½œå“ TOP10
            </div>
            <div class="ranking-scroll" id="rankingScroll"></div>
        </div>
    </div>

    <div class="country-tabs">
        <button class="country-tab active" data-country="all">ã™ã¹ã¦</button>
        <button class="country-tab" data-country="japan">æ—¥æœ¬ JP</button>
        <button class="country-tab" data-country="thailand">ã‚¿ã‚¤ TH</button>
        <button class="country-tab" data-country="taiwan">å°æ¹¾ TW</button>
        <button class="country-tab" data-country="korea">éŸ“å›½ KR</button>
        <button class="country-tab" data-country="china">ä¸­å›½ CN</button>
    </div>

    <div class="controls">
        <div class="control-group">
            <label>é…ä¿¡å¹´:</label>
            <select id="yearFilter">
                <option value="all">ã™ã¹ã¦</option>
                <option value="2024">2024å¹´</option>
                <option value="2025">2025å¹´</option>
                <option value="2026" selected>2026å¹´</option>
                <option value="2027">2027å¹´</option>
            </select>
        </div>

        <div class="control-group">
            <label>é…ä¿¡æœˆ:</label>
            <select id="monthFilter">
                <option value="all">ã™ã¹ã¦</option>
                <option value="1">1æœˆ</option>
                <option value="2" selected>2æœˆ</option>
                <option value="3">3æœˆ</option>
                <option value="4">4æœˆ</option>
                <option value="5">5æœˆ</option>
                <option value="6">6æœˆ</option>
                <option value="7">7æœˆ</option>
                <option value="8">8æœˆ</option>
                <option value="9">9æœˆ</option>
                <option value="10">10æœˆ</option>
                <option value="11">11æœˆ</option>
                <option value="12">12æœˆ</option>
            </select>
        </div>

        <div class="control-group">
            <label>ã‚½ãƒ¼ãƒˆ:</label>
            <select id="sortSelect">
                <option value="date">é…ä¿¡æ—¥æ™‚é †</option>
                <option value="title">ã‚¿ã‚¤ãƒˆãƒ«é †</option>
                <option value="country">å›½åˆ¥</option>
                <option value="platform">é…ä¿¡ã‚µã‚¤ãƒˆåˆ¥</option>
            </select>
        </div>

        <div class="control-group">
            <label>é…ä¿¡ã‚µã‚¤ãƒˆ:</label>
            <select id="platformFilter">
                <option value="all">ã™ã¹ã¦</option>
                <option value="netflix">Netflix</option>
                <option value="unext">U-NEXT</option>
                <option value="viki">Viki</option>
                <option value="gaga">GagaOOLala</option>
            </select>
        </div>

        <div class="search-box">
            <span class="search-icon">ğŸ”</span>
            <input type="text" id="searchInput" placeholder="ä½œå“åãƒ»ä¿³å„ªåã§æ¤œç´¢...">
        </div>
    </div>

    <section class="works-section">
        <div class="results-info" id="resultsInfo"></div>
        <div class="works-grid" id="worksGrid"></div>
    </section>

    <!-- AdSenseåºƒå‘Šã‚¨ãƒªã‚¢ï¼ˆæœ€ä¸‹éƒ¨ï¼‰ -->
    <div class="ad-space horizontal">
        AdSense æ¨ªé•·åºƒå‘Š (728Ã—90 / 320Ã—100)
    </div>

    <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="calendar-section">
        <div class="calendar-header">
            <div>
                <span class="calendar-title">ğŸ“… é¸æŠã—ãŸä½œå“ã®é…ä¿¡äºˆå®š</span>
                <span class="selected-count" id="selectedCount">0ä»¶</span>
            </div>
            <button class="clear-btn" id="clearBtn">ã™ã¹ã¦ã‚¯ãƒªã‚¢</button>
        </div>
        <div class="calendar-list" id="calendarList">
            <div class="empty-calendar">ä½œå“ã‚’é¸æŠã™ã‚‹ã¨ã€é…ä¿¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-links">
            <a href="news-page.html">ãŠçŸ¥ã‚‰ã›</a>
            <a href="privacy-policy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
            <a href="contact-page.html">ãŠå•ã„åˆã‚ã›</a>
        </div>
        <div class="footer-copyright">
            Â© 2026 Asia BL Archive
        </div>
    </footer>

    <!-- data/works.jsã‚’èª­ã¿è¾¼ã‚€ -->
    <script src="data/works.js"></script>
    
    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let works = [];
        let currentCountry = 'all';
        let currentYear = '2026';
        let currentMonth = '2';
        let currentPlatform = 'all';
        let currentSearchQuery = '';
        let selectedWorks = new Set();

        // data/works.jsã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof allWorks !== 'undefined') {
                // ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å¤‰æ›
                works = allWorks.map(work => ({
                    id: work.id || Math.random(),
                    title: work.Title_JP || work.Title_EN || 'ç„¡é¡Œ',
                    country: mapCountry(work.Country),
                    platform: mapPlatform(work.Platform),
                    nextAir: work.Year ? `${work.Year}å¹´` : 'æœªå®š',
                    thumbnail: 'ä½œå“ç”»åƒ',
                    detailUrl: '/works/' + (work.Title_EN || '').toLowerCase().replace(/\s+/g, '-'),
                    actors: [work.Cast1, work.Cast2].filter(Boolean),
                    viewCount: Math.floor(Math.random() * 5000) + 500
                }));
                
                console.log(`${works.length}ä»¶ã®ä½œå“ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ`);
                renderRanking();
                renderWorks();
            } else {
                console.error('data/works.jsãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“');
            }
        });

        // å›½åãƒãƒƒãƒ”ãƒ³ã‚°
        function mapCountry(country) {
            const mapping = {
                'Korea': 'korea',
                'Thailand': 'thailand',
                'Taiwan': 'taiwan',
                'China': 'china',
                'Japan': 'japan'
            };
            return mapping[country] || country.toLowerCase();
        }

        // ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒãƒƒãƒ”ãƒ³ã‚°
        function mapPlatform(platform) {
            if (!platform) return 'ãã®ä»–';
            const platformMap = {
                'Netflix': 'netflix',
                'iQIYI': 'iqiyi',
                'Viki': 'viki',
                'GMMTV': 'gmmtv',
                'GagaOOLala': 'gaga',
                'U-NEXT': 'unext',
                'Viu': 'viu'
            };
            const first = platform.split('/')[0].trim();
            return platformMap[first] || first.toLowerCase();
        }

        const platformNames = {
            netflix: 'Netflix',
            unext: 'U-NEXT',
            viki: 'Viki',
            gaga: 'GagaOOLala',
            iqiyi: 'iQIYI',
            gmmtv: 'GMMTV'
        };

        function renderRanking() {
            const list = document.getElementById('rankingScroll');
            const sortedWorks = works.slice().sort((a, b) => (b.viewCount || 0) - (a.viewCount || 0)).slice(0, 10);
            
            list.innerHTML = sortedWorks.map((work, index) => `
                <div class="ranking-card">
                    <div class="ranking-number">${index + 1}</div>
                    <div class="ranking-thumbnail">${work.thumbnail}</div>
                    <div class="ranking-title">${work.title}</div>
                    <div class="ranking-meta">${work.nextAir} | ${work.viewCount} views</div>
                </div>
            `).join('');
        }

        function renderWorks() {
            const selectedWorksData = works.filter(w => selectedWorks.has(w.id))
                .sort((a, b) => new Date(a.nextAir) - new Date(b.nextAir));
            
            list.innerHTML = selectedWorksData.map(work => `
                <div class="calendar-item">
                    <div class="calendar-date">${formatDate(work.nextAir)}</div>
                    <div class="calendar-work-title">${work.title}</div>
                    <div class="calendar-platform">${platformNames[work.platform]}</div>
                </div>
            `).join('');

            if (selectedWorksData.length === 0) {
                list.innerHTML = '<div class="empty-calendar">ä½œå“ã‚’é¸æŠã™ã‚‹ã¨ã€é…ä¿¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>';
                return;
            }
        }

        function formatDate(dateStr) {
            return dateStr;
        }

        document.querySelectorAll('.country-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.country-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentCountry = tab.dataset.country;
                renderWorks();
            });
        });

        document.getElementById('searchInput').addEventListener('input', (e) => {
            currentSearchQuery = e.target.value;
            renderWorks();
        });

        document.getElementById('yearFilter').addEventListener('change', (e) => {
            currentYear = e.target.value;
            renderWorks();
        });

        document.getElementById('monthFilter').addEventListener('change', (e) => {
            currentMonth = e.target.value;
            renderWorks();
        });

        document.getElementById('platformFilter').addEventListener('change', (e) => {
            currentPlatform = e.target.value;
            renderWorks();
        });

        document.getElementById('clearBtn').addEventListener('click', () => {
            selectedWorks.clear();
            saveSelectedWorks();
            renderWorks();
        });
    </script>
</body>
</html>
